# Сервис авторизации и аутентификации на FastAPI

## Описание
Сервис авторизации и аутентификации на FastAPI. Проект обеспечивает безопасный доступ к API и управление пользователями.

## Стек технологий
- Python 3.13+
- FastAPI для API
- Dishka для DI
- SQLAlchemy и asyncpg для асинхронной работы с PostgreSQL
- Alembic для миграций базы данных
- Redis для кеширования
- Taskiq для фоновых задач
- RabbitMQ для очередей

## Десклеймер
В данном проекте RabbitMQ и Taskiq не подключил из-за ныняшней ненадобности, но в будущем можно использовать их для фоновых задач и очередей.

## Настройка и запуск

### Требования
- PostgreSQL 14+
- Redis 7+
- MinIO (или совместимое S3-хранилище)

### Настройка переменных окружения
Создайте файл `.env` на основе `.env.example` и заполните переменные
В самом начале сразу создадутся пользователи:
Суперюзер:
- email: `superadmin@example.com`
- password: `superpass`

А также обычный администратор, который, допустим, не может назначать суперадмином и тп:
- email: `admin@example.com`
- password: `adminpass`


### Установка зависимостей и виртуальное окружение

Установите Poetry

```bash
pip install poetry
```

Создайте и активируйте виртуальное окружение

```bash
poetry env use python3.13
```

Установите зависимости проекта

```bash
poetry install
```

Создание новой миграции:
```bash
alembic revision --autogenerate -m "init"
```

Применение миграций:
```bash
alembic upgrade head
```

Запуск приложения

```shell
uvicorn src.main:app --host=0.0.0.0 --port=8000
```

